<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="dashboardSuporte.css">
  <link rel="shortcut icon" href="./assets/logo.png" type="image/x-icon">
  <script src="script.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <title>Dashboard | Home</title>
</head>

<body onload="obterdados(), atualizacaoPeriodica()">
  <section class="navbar">
    <div class="logo">
      <img src="assets/logo.png" alt="">
    </div>
    <nav>
      <li><a href="">
          <img src="assets/casa.png" alt="">
        </a></li>
    </nav>
    <div class="logout">
      <li><a href="../login.html">
          <img src="assets/sair.png" alt="">
        </a></li>
    </div>
  </section>

  <main>
    <section class="sectionPerfil" onclick="entrarPerfil()">
      <div class="containerPerfil">
        <div class="contentImage" id="imageUser">

        </div>
        <div class="contentName">
          <p id="nameUser">Marcelo A.</p>
        </div>
      </div>
    </section>
    <section class="sectionKPI">
      <div class="GroupKPI">
        <div class="containerKPI">
          <img src="assets/cpu-do-computador.png" alt="">
          <div class="contentHorizontal">
            <h1>CPU</h1>
          </div>
          <div class="contentVertical">
            <p>% de utilização</p>
          </div>
          <div class="contentVerticalParametro">
            <p id="dadosCpu"><span>%</span></p>
          </div>
        </div>
        <div class="containerGrafico">
          <div class="contentGrafico">
            <canvas id="kpi"></canvas>
          </div>
        </div>
        <div class="containerKPI">
          <img src="assets/cartao-de-memoria.png" alt="">
          <div class="containerKPI1">
            <div class="contentHorizontal">
              <!-- <img src="assets/cpu-do-computador.png" alt=""> -->
              <h1>Memória</h1>
            </div>
            <div class="contentVertical">
              <p>% de utilização</p>
            </div>
            <div class="contentVerticalParametro">
              <p id="dadosMemoria"><span>%</span></p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="sectionTelas" onclick="entrarGrafico()">
      <div class="primeiroGrupo">
        <div onclick="tela1()" class="containerTela" style=" border-bottom: red 5px solid;" id="card c1">
          <p class="date">Dezembro 20, 2021</p>
          <div class="contentVerticalTelas">
            <h1>Máquina 1</h1>
          </div>
          <p class="hours">09:25</p>
        </div>
        <div onclick="tela2()" class="containerTela" style=" border-bottom: red 5px solid;" id="card c2">
          <p class="date">Dezembro 20, 2021</p>
          <div class="contentVerticalTelas">
            <h1>Máquina 2</h1>
          </div>
          <p class="hours">09:25</p>
        </div>
        <div onclick="tela3()" class="containerTela" style=" border-bottom: red 5px solid;" id="card c3">
          <p class="date">Dezembro 20, 2021</p>
          <div class="contentVerticalTelas">
            <h1>Máquina 3</h1>
          </div>
          <p class="hours">09:25</p>
        </div>
        <div onclick="tela4()" class="containerTela" style=" border-bottom: red 5px solid;" id="card c4">
          <p class="date">Dezembro 20, 2021</p>
          <div class="contentVerticalTelas">
            <h1>Máquina 4</h1>
          </div>
          <p class="hours">09:25</p>
        </div>
      </div>



      <!-- <div class="segundoGrupo">
        <div class="containerTela" style=" border-bottom: yellow 5px solid;">
          <p class="date">Dezembro 20, 2021</p>
          <div class="contentVerticalTelas">
            <h1>Máquina 5</h1>
          </div>
          <p class="hours">09:25</p>
        </div>
        <div class="containerTela" style=" border-bottom: yellow 5px solid;">
          <p class="date">Dezembro 20, 2021</p>
          <div class="contentVerticalTelas">
            <h1>Máquina 6</h1>
          </div>
          <p class="hours">09:25</p>
        </div>
        <div class="containerTela" style=" border-bottom: yellow 5px solid;">
          <p class="date">Dezembro 20, 2021</p>
          <div class="contentVerticalTelas">
            <h1>Máquina 7</h1>
          </div>
          <p class="hours">09:25</p>
        </div>
        <div class="containerTela" style=" border-bottom: yellow 5px solid;">
          <p class="date">Dezembro 20, 2021</p>
          <div class="contentVerticalTelas">
            <h1>Máquina 8</h1>
          </div>
          <p class="hours">09:25</p>
        </div>
      </div>

      <div class="segundoGrupo">
        <div class="containerTela" style=" border-bottom: green 5px solid;">
          <p class="date">Dezembro 20, 2021</p>
          <div class="contentVerticalTelas">
            <h1>Máquina 9</h1>
          </div>
          <p class="hours">09:25</p>
        </div>
        <div class="containerTela" style=" border-bottom: green 5px solid;">
          <p class="date">Dezembro 20, 2021</p>
          <div class="contentVerticalTelas">
            <h1>Máquina 10</h1>
          </div>
          <p class="hours">09:25</p>
        </div>
        <div class="containerTela" style=" border-bottom: green 5px solid;">
          <p class="date">Dezembro 20, 2021</p>
          <div class="contentVerticalTelas">
            <h1>Máquina 11</h1>
          </div>
          <p class="hours">09:25</p>
        </div>
        <div class="containerTela" style=" border-bottom: green 5px solid;">
          <p class="date">Dezembro 20, 2021</p>
          <div class="contentVerticalTelas">
            <h1>Máquina 12</h1>
          </div>
          <p class="hours">09:25</p>
        </div> -->
    </section>
  </main>
</body>

</html>
<script>
  // Gráfico KPI
  const ctx = document.getElementById('kpi');
  new Chart(ctx, {
    type: 'doughnut',
    data: {
      datasets: [{
        label: 'Quantidade',
        data: [4, 4, 4],
        borderWidth: 1,
        backgroundColor: [
          'rgb(36, 224, 96)',
          'rgb(240, 217, 46)',
          'rgb(250, 77, 77)'
        ],
      }],
    },
    options: {
      responsive: true,
      maintainAspectRatio: false, // impede que o gráfico mantenha a proporção padrão
      width: 100, // largura do gráfico em pixels
      height: 100 // altura do gráfico em pixels
    }
  });


  // function semPermissao() {
  //   alert("Você não possui permissão para cadastrar usuários")
  // }

  // function atualizacaoPeriodica() {
  //   obterdados(1);
  //   obterdados(2);
  //   obterdados(3);
  //   obterdados(4);

  //   setInterval(() => {
  //   }, 7000);
  //   setTimeout(atualizacaoPeriodica, 8000);
  // }

  // function obterdados(idDadosCapturados) {
  //   fetch(`/medidas/tempo-real/${idDadosCapturados}`)
  //     .then(resposta => {
  //       if (resposta.ok) {
  //         resposta.json().then(resposta => {
  //           console.log(`Dados recebidos: ${JSON.stringify(resposta)}`);
  //           var dados = {
  //             temperatura: resposta[0].temperatura,
  //           }
  //           alertar(resposta[0].temperatura, idDadosCapturados);
  //         });
  //       } else {
  //         console.error('Nenhum dado encontrado ou erro na API');
  //       }
  //     })
  //     .catch(function (error) {
  //       console.error(`Erro na obtenção dos dados do freezer p/ gráfico: ${error.message}`);
  //     });
  // }

  // function alertar(temperatura, idDadosCapturados) {
  //   var limites = {
  //     alerta: 24,
  //     normal: 60,
  //     critico: 95,
      
  //   };

  //   var classeDados = 'card';

  //   if (temperatura >= limites.critico) {
  //     classeDados = 'card critico';
  //     console.log("caiu no 1")
  //   } else if (temperatura < limites.alerta) {
  //     classeDados = 'card alerta';
  //     console.log("caiu no 2")
  //   } else if (temperatura < limites.normal) {
  //     classeDados = 'card ideal';
  //     console.log("caiu no 3")
  //   } 

  //   var card;

  //   if (idDadosCapturados == 1) {
  //     dadosCpu.innerHTML = temperatura;
  //     card = card_1
  //   } else if (idDadosCapturados == 2) {
  //     dadosMemoria.innerHTML = temperatura;
  //     card = card_2
  //   }

  //   // alterando
  //   card.className = classeDados;
  // }
</script>